env/bin/activate: requirements.txt
	python -m venv env
	./env/bin/pip install -r requirements.txt

build: romcomPrep.py
	./env/bin/python romcomPrep.py
	
test: romcomSQL.py test_romcom.py env/bin/activate
	./env/bin/python romcomSQL.py
	./env/bin/python -m unittest test_romcom -v

run: env/bin/activate
	./env/bin/python romcom.py

refresh: romcomPrep.py
	./env/bin/python romcomPrep.py

clean: *.pkl.gz *.tsv.gz *.tsv __pycache__
	rm *.pkl.gz
	rm *.tsv.gz
	rm *.tsv
	rm -rf __pycache__

